// translations.js
const translations = {
    'en': {
      // Common
      'app_name': 'fluX',
      'loading': 'Loading...',
      'error': 'Error',
      'back': 'Back',
      'save': 'Save',
      'cancel': 'Cancel',
      'submit': 'Submit',
      'success': 'Success',
      'home': 'Home',
      'profile': 'Profile',
      'tasks': 'Tasks',
      'power': 'Power',
      'upgrade': 'Upgrade',
      
      // Login/Register
      'welcome_back': 'Welcome Back',
      'email': 'Email',
      'password': 'Password',
      'login': 'Login',
      'no_account': 'Don\'t have an account?',
      'register': 'Register',
      'create_account': 'Create your Account',
      'name': 'Name',
      'invite_code': 'Invite Code (optional)',
      'have_account': 'Already have an account?',
      
      // Dashboard
      'daily_profit': 'Daily Profit',
      'total_profit': 'Total Profit',
      'training_progress': 'Today\'s training progress',
      'generate_profit': 'Generate Profit',
      'collect': 'Collect',
      'level': 'Level',
      'partners': 'Partners',
      
      // Profile
      'my_assets': 'My Assets',
      'uid': 'UID',
      'total_assets': 'My Total Assets (USDT)',
      'asset_center': 'Asset Center',
      'total_earned': 'Total Earned',
      'from_tasks': 'Tasks',
      'from_compute': 'Processing',
      'from_team': 'Team',
      'my_device': 'My Device',
      'my_team': 'My Team',
      'transactions': 'Transactions',
      'invitation_center': 'Invitation Center',
      'customer_support': 'Customer Support',
      
      // Devices
      'user_devices': 'User Devices',
      'check_devices': 'Check your registered devices and their statistics.',
      'loading_devices': 'Loading devices...',
      'scan': 'Scan',
      'device_saved': 'New device saved successfully!',
      'cpu': 'CPU',
      'cores': 'cores',
      'ram': 'RAM',
      'os': 'OS',
      'ranking': 'Ranking',
      
      // Accelerators
      'deadlines': 'Deadlines',
      'daily_training': 'Daily training hours',
      'daily_earnings': 'Daily earnings',
      'total_earnings': 'Total earnings',
      'total_yield': 'Total yield',
      'max_purchase': 'Maximum purchase',
      'buy_now': 'Buy Now',
      'days': 'Days',
      
      // Power
      'power_rank': 'Power Rank',
      'active_devices': 'Active devices',
      'legendary': 'Legendary',
      'advanced': 'Advanced',
      'basic': 'Basic',
      'legendary_tip': 'You have a war machine! Ready for everything.',
      'advanced_tip': 'Your device is good! Keep it clean and updated.',
      'basic_tip': 'Consider upgrading your device for better performance.',
      'active_accelerators': 'Active Accelerators:',
      'per_day': '/day',
      'add_more_devices': 'You can add more devices to your profile. Just log in from a new device.',
      'current': 'Current',
      
      // Tasks
      'my_tasks': 'My Tasks',
      'total_earned_tasks': 'Total Earned',
      'status': 'Status',
      'available': 'Available',
      'unavailable': 'Unavailable',
      'start': 'Start',
      'classify_images': 'Classify Images',
      'human_verification': 'Human Verification (reCAPTCHA)',
      'emotion_recognition': 'Emotion Recognition',
      
      // Classify Task
      'classify_image': 'Classify the Image',
      'what_you_see': 'What do you see?',
      'send': 'Send',
      'progress': 'Progress',
      'task_completed': '✅ Task completed! Thank you for your contribution.',
      
      // Team
      'my_team_title': 'My Team',
      'no_members': 'No members have joined with your code yet.',
      
      // Customer Support
      'customer_support_title': 'Customer Support',
      'support_intro': 'We\'re here to help. Contact us through any of the channels below.',
      'email_support': 'Email: support@yourcompany.com',
      'phone': 'Phone: +351 912 345 678',
      'whatsapp': 'WhatsApp: +351 912 345 678',
      'website': 'Website: www.yourcompany.com',
      
      // Transactions
      'transaction_history': 'Transaction History',
      'no_transactions': 'No transactions recorded yet.',
      
      // Invitation
      'invitation_center_title': 'Invitation Center',
      'copy_code': 'Copy Code',
      'code_copied': '✅ Code copied to clipboard!'
    },
    'pt-br': {
      // Common
      'app_name': 'fluX',
      'loading': 'Carregando...',
      'error': 'Erro',
      'back': 'Voltar',
      'save': 'Salvar',
      'cancel': 'Cancelar',
      'submit': 'Enviar',
      'success': 'Sucesso',
      'home': 'Início',
      'profile': 'Perfil',
      'tasks': 'Tarefas',
      'power': 'Power',
      'upgrade': 'Atualizar',
      
      // Login/Register
      'welcome_back': 'Bem-vindo de volta',
      'email': 'Email',
      'password': 'Palavra-passe',
      'login': 'Iniciar Sessão',
      'no_account': 'Não tens conta?',
      'register': 'Registra-te',
      'create_account': 'Cria a tua Conta',
      'name': 'Nome',
      'invite_code': 'Código de Convite (opcional)',
      'have_account': 'Já tens conta?',
      
      // Dashboard
      'daily_profit': 'Lucro Diário',
      'total_profit': 'Lucro Total',
      'training_progress': 'Progresso de treino de hoje',
      'generate_profit': 'Gerar Lucro',
      'collect': 'Recolher',
      'level': 'Nível',
      'partners': 'Parceiros',
      
      // Profile
      'my_assets': 'Meus Ativos',
      'uid': 'UID',
      'total_assets': 'Meu Total de Ativos (USDT)',
      'asset_center': 'Centro de Ativos',
      'total_earned': 'Total Ganho',
      'from_tasks': 'Tarefas',
      'from_compute': 'Processamento',
      'from_team': 'Equipa',
      'my_device': 'O Meu Dispositivo',
      'my_team': 'A Minha Equipa',
      'transactions': 'Transações',
      'invitation_center': 'Centro de Convites',
      'customer_support': 'Apoio ao Cliente',
      
      // Devices
      'user_devices': 'Dispositivos do Utilizador',
      'check_devices': 'Consulta os teus dispositivos registados e as suas estatísticas.',
      'loading_devices': 'A carregar dispositivos...',
      'scan': 'Fazer Scan',
      'device_saved': 'Novo dispositivo guardado com sucesso!',
      'cpu': 'CPU',
      'cores': 'núcleos',
      'ram': 'RAM',
      'os': 'OS',
      'ranking': 'Ranking',
      
      // Accelerators
      'deadlines': 'Prazos',
      'daily_training': 'Horas de treino diárias',
      'daily_earnings': 'Ganhos diários',
      'total_earnings': 'Ganhos totais',
      'total_yield': 'Rendimento total',
      'max_purchase': 'Compra máxima',
      'buy_now': 'Comprar Agora',
      'days': 'Dias',
      
      // Power
      'power_rank': 'Power Rank',
      'active_devices': 'Dispositivos ativos',
      'legendary': 'Lendário',
      'advanced': 'Avançado',
      'basic': 'Básico',
      'legendary_tip': 'Tens uma máquina de guerra! Pronto para tudo.',
      'advanced_tip': 'O teu dispositivo é bom! Mantém-no limpo e atualizado.',
      'basic_tip': 'Considera atualizar o teu dispositivo para melhor desempenho.',
      'active_accelerators': 'Aceleradores Ativos:',
      'per_day': '/dia',
      'add_more_devices': 'Podes adicionar mais dispositivos ao teu perfil. Para isso faz login de um novo dispositivo.',
      'current': 'Atual',
      
      // Tasks
      'my_tasks': 'As Minhas Tasks',
      'total_earned_tasks': 'Total Ganho',
      'status': 'Status',
      'available': 'Disponível',
      'unavailable': 'Indisponível',
      'start': 'Começar',
      'classify_images': 'Classificar Imagens',
      'human_verification': 'Verificação Humana (reCAPTCHA)',
      'emotion_recognition': 'Reconhecimento de Emoções',
      
      // Classify Task
      'classify_image': 'Classifica a Imagem',
      'what_you_see': 'O que estás a ver?',
      'send': 'Enviar',
      'progress': 'Progresso',
      'task_completed': '✅ Tarefa concluída! Obrigado pela tua contribuição.',
      
      // Team
      'my_team_title': 'Minha Equipa',
      'no_members': 'Nenhum membro ainda entrou com o teu código.',
      
      // Customer Support
      'customer_support_title': 'Apoio ao Cliente',
      'support_intro': 'Estamos aqui para te ajudar. Contacta-nos por qualquer um dos meios abaixo.',
      'email_support': 'Email: suporte@tuaempresa.com',
      'phone': 'Telefone: +351 912 345 678',
      'whatsapp': 'WhatsApp: +351 912 345 678',
      'website': 'Website: www.tuaempresa.com',
      
      // Transactions
      'transaction_history': 'Histórico de Transações',
      'no_transactions': 'Nenhuma transação registrada ainda.',
      
      // Invitation
      'invitation_center_title': 'Centro de Convites',
      'copy_code': 'Copiar Código',
      'code_copied': '✅ Código copiado para a área de transferência!'
    }
  };
  
  // Language management
  class LanguageManager {
    constructor() {
      this.currentLang = localStorage.getItem('fluxLanguage') || 'pt-br';
      this.translations = translations;
      this.initLanguageSelector();
    }
    
    initLanguageSelector() {
      document.addEventListener('DOMContentLoaded', () => {
        // Add language selector CSS
        const style = document.createElement('style');
        style.textContent = `
          .language-selector {
            position: fixed;
            top: 10px;
            right: 15px;
            z-index: 1000;
          }
          
          .lang-toggle {
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border-radius: 20px;
            color: #fff;
            font-size: 0.8rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
          }
          
          .lang-option {
            cursor: pointer;
            padding: 2px 5px;
            transition: color 0.3s ease;
          }
          
          .lang-option.active {
            color: #00ff99;
            font-weight: bold;
          }
          
          .lang-divider {
            margin: 0 3px;
            opacity: 0.5;
          }
        `;
        document.head.appendChild(style);
        
        // Load language selector
        fetch('language-selector.html')
          .then(response => response.text())
          .then(html => {
            // Add to all pages except Login and Register
            if (!window.location.pathname.includes('login.html') && 
                !window.location.pathname.includes('register.html')) {
              
              const body = document.body;
              const tempDiv = document.createElement('div');
              tempDiv.innerHTML = html;
              body.insertBefore(tempDiv.firstChild, body.firstChild);
              
              // Set active language
              const langOptions = document.querySelectorAll('.lang-option');
              langOptions.forEach(option => {
                if (option.dataset.lang === this.currentLang) {
                  option.classList.add('active');
                }
                
                option.addEventListener('click', () => {
                  this.setLanguage(option.dataset.lang);
                  langOptions.forEach(opt => opt.classList.remove('active'));
                  option.classList.add('active');
                });
              });
            }
            
            // Apply current language
            this.applyLanguage();
          });
      });
    }
    
    setLanguage(lang) {
      this.currentLang = lang;
      localStorage.setItem('fluxLanguage', lang);
      this.applyLanguage();
    }
    
    applyLanguage() {
      const elements = document.querySelectorAll('[data-i18n]');
      elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (this.translations[this.currentLang][key]) {
          element.textContent = this.translations[this.currentLang][key];
        }
      });
      
      // Update placeholders
      const inputElements = document.querySelectorAll('[data-i18n-placeholder]');
      inputElements.forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (this.translations[this.currentLang][key]) {
          element.placeholder = this.translations[this.currentLang][key];
        }
      });
    }
    
    translateText(key) {
      return this.translations[this.currentLang][key] || key;
    }
  }
  
  // Initialize the language manager
  const i18n = new LanguageManager();
  
  // Export globally
  window.i18n = i18n;
  
  export default i18n;